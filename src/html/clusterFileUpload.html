
<div ng-include="'html/navbar.html'"></div>

<div class="container"> 
      <div class="card">
         <ul class="nav nav-tabs" style="margin-bottom: 15px;">
            <li><button id="btnDirectory" class="btn btn-primary active" href="#directory" data-toggle="tab">Upload Directory</a></li>
            <li><button id="btnFile" class="btn btn-primary" href="#file" data-toggle="tab">Upload File</a></li>
         </ul>
         <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in" id="directory">
               <table class="table table-striped table-hover">
                  <thead>
                     <tr>
                        <th>Server Destination</th>
                        <th>Folder to upload</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td>
                        <div class="panel panel-default">
                           <div class="panel-heading">Working Directory: 
                              <ul class="breadcrumb">
                                 <li ng-repeat="pwd in wdList" class="{{pwd.wdClass}}">
                                    <a ng-click="cdSSHWD(pwd)">{{pwd.name}}</a>
                                 </li>
                              </ul>
                           </div>
                           <div class="panel-body">Available Folders:
                              <ul class="jqueryFileTree" 
                                 ng-repeat="folder in clusterFolder">
                                 <li class="{{folder.wdClass}}">
                                    <a ng-click="cdSSH(folder)">{{folder.name}}</a>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </td>
                     <td>
                        <input type="file" ng-model-instant 
                           id="folderToUpload" 
                           multiple 
                           onchange="angular.element(this).scope().setFiles(this)"
                           webkitdirectory
                           directory></input>
                     </td>
                  </tr>
                  <tr>
                     <td><input type="button" ng-click="uploadDirectory()" value="Upload" /></td>
                     <td>
                        <div class="progress progress-striped active" ng-show="progressVisible">
                           <div class="progress-bar" style="width: {{progressValue}}%"></div><p>{{progressValue}}%</p>
                        </div>
                        <div ng-show="uploadStatus">
                           <p>Done!</p>
                        </div>
                     </td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div class="tab-pane fade" id="file">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th>Server Destination</th>
                     <th>File to upload</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>
                        <div class="panel panel-default">
                           <div class="panel-heading">Working Directory: 
                              <ul class="breadcrumb">
                                 <li ng-repeat="pwd in wdList" class="{{pwd.wdClass}}">
                                    <a ng-click="cdSSHWD(pwd)">{{pwd.name}}</a>
                                 </li>
                              </ul>
                           </div>
                           <div class="panel-body">Available Folders:
                              <ul class="jqueryFileTree" 
                                 ng-repeat="folder in clusterFolder">
                                 <li class="{{folder.wdClass}}">
                                    <a ng-click="cdSSH(folder)">{{folder.name}}</a>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </td>
                     <td>
                        <input type="file" ng-model-instant
                           id="fileToUpload"
                           multiple
                           onchange="angular.element(this).scope().setFiles(this)"></input>
                        <div ng-show="files.length">
                           <div ng-repeat="file in files.slice(0)">
                              <span>{{file.webkitRelativePath || file.name}}</span>
                              (<span ng-switch="file.size > 1024*1024">
                                 <span ng-switch-when="true">{{file.size / 1024 / 1024 | number:2}} MB</span>
                                 <span ng-switch-default>{{file.size / 1024 | number:2}} kB</span>
                              </span>)
                           </div>
                        </div>
                     </td>
                  </tr>
                  <tr>
                     <td><input type="button" ng-click="uploadFile()" value="Upload" /></td>
                     <td>
                        <div class="progress progress-striped active" ng-show="progressVisible">
                           <div class="progress-bar" style="width: {{progressValue}}%"></div><p>{{progressValue}}%</p>
                        </div>
                        <div ng-show="uploadStatus">
                           <p>Done!</p>
                        </div>
                     </td>
                  </tr>
               </tbody>
            </table>
         </div>


      </div>
      </div>
    </div>
</div>
